<?php
/**
 * Halaman Landing Page - Portal Utama Sistem Pengelolaan Surat Peringatan
 * 
 * File ini menampilkan:
 * 1. Informasi umum tentang sistem
 * 2. Fitur-fitur utama
 * 3. Link ke halaman pencarian surat peringatan
 * 4. Form kontak untuk feedback
 */

session_start();
include '../config.php';

// Fungsi untuk mendapatkan statistik surat peringatan
function getStatistikSuratPeringatan($conn) {
    $stats = array();
    
    // Total surat peringatan
    $result = $conn->query("SELECT COUNT(*) as total FROM surat_peringatan");
    $stats['total'] = $result->fetch_assoc()['total'];
    
    // SP1
    $result = $conn->query("SELECT COUNT(*) as sp1 FROM surat_peringatan WHERE tingkatan_sp = 'SP1'");
    $stats['sp1'] = $result->fetch_assoc()['sp1'];
    
    // SP2
    $result = $conn->query("SELECT COUNT(*) as sp2 FROM surat_peringatan WHERE tingkatan_sp = 'SP2'");
    $stats['sp2'] = $result->fetch_assoc()['sp2'];
    
    // SP3
    $result = $conn->query("SELECT COUNT(*) as sp3 FROM surat_peringatan WHERE tingkatan_sp = 'SP3'");
    $stats['sp3'] = $result->fetch_assoc()['sp3'];
    
    return $stats;
}

// Get statistik
$stats = getStatistikSuratPeringatan($conn);
?>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistem Pengelolaan Surat Peringatan Mahasiswa</title>

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/style-landingpage.css" />
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
      <div class="container-fluid px-3">
        <a class="navbar-brand" href="#">
          <div class="brand-container">
            <img
              src="assets/img/logo polibatam.png"
              alt="Logo Polibatam"
              class="skibidi"
            />
            <span>Pengelolaan Surat Peringatan</span>
          </div>
        </a>

        <!-- Navbar Container with Hamburger and Login -->
        <div class="navbar-container">
          <button class="hamburger-btn" id="hamburgerBtn" title="Menu">
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
          </button>
          <a
            href="#"
            class="btn btn-primary btn-sm login-btn-nav"
            id="loginButton"
          >
            Login
          </a>
        </div>
      </div>
    </nav>

    <!-- Mobile/Desktop Menu -->
    <div class="mobile-menu" id="mobileMenu">
      <ul class="mobile-menu-nav">
        <li><a href="#home" class="menu-link">Beranda</a></li>
        <li><a href="#features" class="menu-link">Fitur</a></li>
        <li><a href="#contact" class="menu-link">Kontak</a></li>
        <li style="border-top: 1px solid #e9ecef; margin: 1rem 0"></li>
        <li>
          <a href="cari-mahasiswa.php" class="menu-link">Cari Surat Peringatan</a>
        </li>
      </ul>
    </div>

    <!-- Menu Overlay -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- Hero Section -->
    <section class="hero-section" id="home" style="margin-top: 80px">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6 text-center text-lg-start mb-5 mb-lg-0">
            <h1 class="display-4 fw-bold">
              Sistem Pengelolaan Surat Peringatan
            </h1>
            <p class="lead mb-4">
              Sistem ini dikembangkan untuk mendukung kegiatan akademik yang
              tertib dan profesional. Proses penerbitan surat peringatan dapat
              dilakukan secara otomatis dan efisien.
            </p>
            <a href="#features" class="btn btn-primary btn-lg"
              >Pelajari Lebih Lanjut</a
            >
          </div>
          <div class="col-lg-6">
            <div class="hero-image-container">
              <img
                src="assets/img/Checklist.jpg"
                alt="Sistem Pengelolaan Ilustrasi"
                class="hero-image"
              />
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Statistics Section -->
    <section class="bg-light py-5">
      <div class="container">
        <h2 class="text-center mb-5">Statistik Sistem</h2>
        <div class="row g-4 text-center">
          <div class="col-md-3">
            <div class="card shadow-sm">
              <div class="card-body">
                <h3 class="text-primary"><?php echo $stats['total']; ?></h3>
                <p class="text-muted">Total Surat Peringatan</p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card shadow-sm">
              <div class="card-body">
                <h3 class="text-info"><?php echo $stats['sp1']; ?></h3>
                <p class="text-muted">SP1</p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card shadow-sm">
              <div class="card-body">
                <h3 class="text-warning"><?php echo $stats['sp2']; ?></h3>
                <p class="text-muted">SP2</p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card shadow-sm">
              <div class="card-body">
                <h3 class="text-danger"><?php echo $stats['sp3']; ?></h3>
                <p class="text-muted">SP3</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Search Section -->
    <section class="search-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 text-center">
            <h2 class="mb-4">Cari Informasi Surat Peringatan</h2>
            <p class="text-muted mb-4">
              Untuk mencari informasi surat peringatan mahasiswa, silakan kunjungi halaman
              pencarian kami.
            </p>
            <a href="cari-mahasiswa.php" class="btn btn-primary btn-lg">
              Ke Halaman Pencarian
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-5" id="features">
      <div class="container">
        <h2 class="text-center mb-5">Fitur Utama</h2>
        <div class="row g-4">
          <div class="col-md-4">
            <div class="text-center feature-card">
              <div class="feature-icon">
                <img src="assets/img/pencatatan.png" alt="Pencatatan Digital" />
              </div>
              <h3>Pencatatan Digital</h3>
              <p>
                Sistem pencatatan surat peringatan secara digital yang aman dan terorganisir.
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="text-center feature-card">
              <div class="feature-icon">
                <img src="assets/img/monitoring.png" alt="Monitoring Icon" />
              </div>
              <h3>Monitoring Real-time</h3>
              <p>Pantau status dan riwayat surat peringatan dengan mudah dan cepat.</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="text-center feature-card">
              <div class="feature-icon">
                <img
                  src="assets/img/notification-bell.png"
                  alt="Notifikasi Icon"
                />
              </div>
              <h3>Notifikasi Otomatis</h3>
              <p>Sistem notifikasi otomatis untuk setiap pembaruan status surat peringatan.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section class="bg-light py-5" id="contact">
      <div class="container">
        <h2 class="text-center mb-4">Hubungi Kami</h2>
        <div class="row justify-content-center">
          <div class="col-md-6">
            <form>
              <div class="mb-3">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Nama Lengkap"
                />
              </div>
              <div class="mb-3">
                <input type="email" class="form-control" placeholder="Email" />
              </div>
              <div class="mb-3">
                <textarea
                  class="form-control"
                  rows="4"
                  placeholder="Pesan"
                ></textarea>
              </div>
              <div class="text-center">
                <button type="submit" class="btn btn-primary">
                  Kirim Pesan
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="container text-center">
        <p class="mb-0">
          &copy; 2025 Sistem Pengelolaan Surat Peringatan Mahasiswa. All rights
          reserved.
        </p>
      </div>
    </footer>

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/landing-page.js"></script>
  </body>
</html>
